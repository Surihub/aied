import openai

openai.api_key = "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"


print(openai.api_key)
# #Header of page
# st.title("ì¼ì°¨ë°©ì •ì‹ í™œìš© ë¬¸ì œ ê³¼ì • ì¤‘ì‹¬ í‰ê°€")
# name = st.text_input("ì´ë¦„")
# st.divider()
# st.header("í‰ê°€ì˜ ëª©ì ")
# st.write("ì¼ì°¨ë°©ì •ì‹ í™œìš©ë¬¸ì œë¥¼ í’€ë©° ì¼ì°¨ë°©ì •ì‹ì„ ì´í•´í•˜ê³  ì„œìˆ í˜• ë‹µì•ˆì„ ì •í™•í•˜ê²Œ ì‘ì„±í•˜ëŠ” ë°©ë²•ì„ ì—°ìŠµí•´ë³´ì!")
# st.divider()
# st.header("í‰ê°€ ìˆœì„œ!")
# st.write("1. ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”")
# st.write("2. ë¬¸ì œë¥¼ ì½ê³  í’€ì´ì¹¸ì— ìì‹ ì˜ í’€ì´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”")
# st.write("3. í’€ì´ë¥¼ ì ê³ , í’€ì´ì— ëŒ€í•œ ìì‹ ê°ê³¼ ì§ì „ í”¼ë“œë°±ì´ í’€ì´ ì‘ì„±ì— ë„ì›€ì´ ë˜ì—ˆëŠ”ì§€ ì²´í¬í•´ì£¼ì„¸ìš”(ì²«ë²ˆì§¸ ì‘ì„±ì´ë¼ë©´ ì²«ë²ˆì§¸ ë‹µë³€ì„ì„ ê³¨ë¼ì£¼ì„¸ìš”)")
# st.write("4. í”¼ë“œë°± ë°›ê¸° ë²„íŠ¼ì„ ëˆŒëŸ¬ì„œ ì¸ê³µì§€ëŠ¥ì˜ í”¼ë“œë°±ì„ ì½ì–´ë³´ì„¸ìš”")
# st.write("5. í”¼ë“œë°±ì„ ì½ì€ í›„ í’€ì´ì¹¸ì— ë‹¤ì‹œ í’€ì´ë¥¼ ì ê³  í”¼ë“œë°± ë°›ê¸° ë²„íŠ¼ì„ ë‹¤ì‹œ ëˆŒëŸ¬ì£¼ì„¸ìš”(2ë²ˆ ì´ìƒ í’€ì–´ë³´ê¸°!!)")
# st.write("6. ë¬¸ì œë¥¼ ëª¨ë‘ í’€ê³  ê²°ê³¼ ë‹¤ìš´ë¡œë“œ ë°›ê¸° > ëˆŒëŸ¬ì„œ íŒŒì¼ ë‹¤ìš´ë¡œë“œ ë°›ê¸°ë¥¼ ëˆŒëŸ¬ í’€ì´ ê²°ê³¼ë¥¼ íŒŒì¼ë¡œ ë‹¤ìš´ë¡œë“œ ë°›ìœ¼ì„¸ìš”")
# st.write("7. ë‹¤ìš´ë¡œë“œ ë°›ì€ íŒŒì¼ì„ ì•„ë˜ì˜ ë§í¬ì— ë“¤ì–´ê°€ì„œ ì„¤ë¬¸ê³¼ í•¨ê»˜ ì œì¶œí•´ì£¼ì„¸ìš”")
# st.markdown("[êµ¬ê¸€ ì„¤ë¬¸ ë§í¬](https://forms.gle/iHcKtEtt1eQi8y5f6)")
# st.divider()
# st.header("í”¼ë“œë°±ì„ ë°›ëŠ” ë°©ë²•")
# st.write("1. ì¢‹ì€ í”¼ë“œë°±ì„ ë°›ê¸° ìœ„í•´ì„œ, í’€ì´ë¥¼ ìµœëŒ€í•œ ìƒì„¸í•˜ê²Œ ì ì–´ë³´ì„¸ìš”!")
# st.write("2. ë¬¸ì œë¥¼ ëª¨ë‘ í‘¼ ë‹¤ìŒì— í”¼ë“œë°±ì„ ë°›ì„ í•„ìš”ëŠ” ì—†ìŠµë‹ˆë‹¤. ë¬¸ì œë¥¼ í‘¸ë‹¤ê°€ ë§‰íˆëŠ” ë¶€ë¶„ì´ ìˆìœ¼ë©´, í‘¼ ê³³ ê¹Œì§€ë§Œ ì ì–´ì„œ í”¼ë“œë°±ì„ ë°›ì•„ë³´ì„¸ìš”")
# st.write("3. ì—¬ëŸ¬ ë¬¸ì¥ì„ ì‘ì„±í•  ë•ŒëŠ” ë¬¸ì¥ë“¤ ì‚¬ì´ì— ë§ˆì¹¨í‘œ(.)ë¥¼ ì‘ì„±í•´ì£¼ì„¸ìš”!")
# st.write("4. í”¼ë“œë°±ì„ ë°›ì€ í›„, í”¼ë“œë°±ì— ë”°ë¼ í’€ì´ë¥¼ ìˆ˜ì •í•´ì„œ ë‹¤ì‹œ í”¼ë“œë°±ì„ ë°›ì•„ë³´ì„¸ìš”! í’€ì´ -> í”¼ë“œë°± -> ë‹¤ì‹œ í’€ì´ì˜ ê³¼ì •ì„ ë°˜ë³µí•´ë´ìš”!")
# st.divider()
# st.header("1ë²ˆ")
# st.markdown("ì–´ëŠ ë°°êµ¬ ë™ì•„ë¦¬ì—ì„œ íšŒë¹„ë¥¼ ê±·ì–´ì„œ ë°°êµ¬ê³µì„ ì‚¬ë ¤ê³  í•œë‹¤. íšŒë¹„ë¥¼ 2000ì›ì”© ê±·ìœ¼ë©´ 8000ì›ì´ ë¶€ì¡±í•˜ê³ , 3000ì›ì”© ê±·ìœ¼ë©´ 7000ì›ì´ ë‚¨ëŠ”ë‹¤ê³  í•  ë•Œ, 2500ì›ì”© ê±·ìœ¼ë©´ ì–¼ë§ˆê°€ ë¶€ì¡±í•œì§€ êµ¬í•˜ì‹œì˜¤.")
# text_placeholder = st.empty()
# response = text_placeholder.text_input("í’€ì´ê³¼ì •ê³¼ í•¨ê»˜ ë‹µì„ ì“°ì‹œì˜¤ : ", key = "input1")
# confidence = st.radio("ë‹¹ì‹ ì˜ í’€ì´ì— ì–¼ë§ˆë‚˜ ìì‹ ê°ì´ ìˆìœ¼ì‹ ê°€ìš”?", ["ì„ íƒí•˜ì§€ ì•ŠìŒ", "ë§¤ìš° ì•„ë‹ˆë‹¤", "ì•„ë‹ˆë‹¤", "ê·¸ë ‡ë‹¤", "ë§¤ìš° ê·¸ë ‡ë‹¤"], key = "conf1")
# stat = st.radio("í”¼ë“œë°±ì´ í’€ì´ë¥¼ ìˆ˜ì •í•˜ëŠ”ë° ë„ì›€ì´ ë˜ì—ˆë‚˜ìš”?", ["ì²«ë²ˆì§¸ ë‹µë³€ì„", "ë§¤ìš° ì•„ë‹ˆë‹¤", "ì•„ë‹ˆë‹¤", "ê·¸ë ‡ë‹¤", "ë§¤ìš° ê·¸ë ‡ë‹¤"], key="sat1")
# if st.button("í”¼ë“œë°± ë°›ê¸°", key = "1"):
#     assess, fb = generate_fb_1( response)
#     st.write("**GPTì˜ í”¼ë“œë°±**")
#     st.write(fb)
#     response = process_string(response)
#     asess = process_string(assess)
#     fb = process_string(fb)
#     st.session_state["item"].append("1")
#     st.session_state["answer"].append(response)
#     st.session_state["assess"].append(assess)
#     st.session_state["feedback"].append(fb)
#     st.session_state["conf"].append(confidence)
#     st.session_state["sat"].append(stat)

# else : st.text("ë¬¸ì œë¥¼ í’€ê³  í”¼ë“œë°± ë°›ê¸°ë¥¼ ëˆŒëŸ¬ë³´ì„¸ìš”!")

# st.divider()
# st.header("2ë²ˆ")
# st.markdown("ë°±ì˜ ìë¦¬ì˜ ìˆ«ìê°€ 1ì´ê³  ê° ìë¦¬ì˜ ìˆ«ìì˜ í•©ì´ 10ì¸ ì„¸ ìë¦¬ì˜ ìì—°ìˆ˜ê°€ ìˆë‹¤. ì´ ìì—°ìˆ˜ì˜ ë°±ì˜ ìë¦¬ì˜ ìˆ«ìì™€ ì¼ì˜ ìë¦¬ì˜ ìˆ«ìë¥¼ ë°”ê¾¼ ìˆ˜ëŠ” ì²˜ìŒ ìˆ˜ì˜ 4ë°°ë³´ë‹¤ 39ê°€ ì‘ë‹¤ê³  í•œë‹¤. ì²˜ìŒ ìˆ˜ë¥¼ êµ¬í•˜ì‹œì˜¤.")
# text_placeholder = st.empty()
# response2 = text_placeholder.text_input("í’€ì´ê³¼ì •ê³¼ í•¨ê»˜ ë‹µì„ ì“°ì‹œì˜¤ : ", key = "input2")
# confidence2 = st.radio("ë‹¹ì‹ ì˜ í’€ì´ì— ì–¼ë§ˆë‚˜ ìì‹ ê°ì´ ìˆìœ¼ì‹ ê°€ìš”?", ["ì„ íƒí•˜ì§€ ì•ŠìŒ", "ë§¤ìš° ì•„ë‹ˆë‹¤", "ì•„ë‹ˆë‹¤", "ê·¸ë ‡ë‹¤", "ë§¤ìš° ê·¸ë ‡ë‹¤"], key = "conf2")
# stat2 = st.radio("í”¼ë“œë°±ì´ í’€ì´ë¥¼ ìˆ˜ì •í•˜ëŠ”ë° ë„ì›€ì´ ë˜ì—ˆë‚˜ìš”?", ["ì²«ë²ˆì§¸ ë‹µë³€ì„", "ë§¤ìš° ì•„ë‹ˆë‹¤", "ì•„ë‹ˆë‹¤", "ê·¸ë ‡ë‹¤", "ë§¤ìš° ê·¸ë ‡ë‹¤"], key = "sat2")
# if st.button("í”¼ë“œë°± ë°›ê¸°", key = "2"):
#     assess, fb = generate_fb_2(response2)
#     st.write("**GPTì˜ í”¼ë“œë°±**")
#     st.write(fb)
#     response2 = process_string(response2)
#     asess = process_string(assess)
#     fb = process_string(fb)
#     st.session_state["item"].append("2")
#     st.session_state["answer"].append(response2)
#     st.session_state["assess"].append(assess)
#     st.session_state["feedback"].append(fb)
#     st.session_state["conf"].append(confidence2)
#     st.session_state["sat"].append(stat2)

# else : st.text("ë¬¸ì œë¥¼ í’€ê³  í”¼ë“œë°± ë°›ê¸°ë¥¼ ëˆŒëŸ¬ë³´ì„¸ìš”!")

# st.divider()
# st.header("3ë²ˆ")
# st.markdown("3ì‹œì™€ 4ì‹œ ì‚¬ì´ì— ì‹œê³„ì˜ ì‹œì¹¨ê³¼ ë¶„ì¹¨ì´ ì¼ì¹˜í•˜ëŠ” ì‹œê°ì„ êµ¬í•˜ì‹œì˜¤.")
# text_placeholder = st.empty()
# response3 = text_placeholder.text_input("í’€ì´ê³¼ì •ê³¼ í•¨ê»˜ ë‹µì„ ì“°ì‹œì˜¤ : ", key = "input3")
# confidence3 = st.radio("ë‹¹ì‹ ì˜ í’€ì´ì— ì–¼ë§ˆë‚˜ ìì‹ ê°ì´ ìˆìœ¼ì‹ ê°€ìš”?", ["ì„ íƒí•˜ì§€ ì•ŠìŒ", "ë§¤ìš° ì•„ë‹ˆë‹¤", "ì•„ë‹ˆë‹¤", "ê·¸ë ‡ë‹¤", "ë§¤ìš° ê·¸ë ‡ë‹¤"], key = "conf3")
# stat3 = st.radio("í”¼ë“œë°±ì´ í’€ì´ë¥¼ ìˆ˜ì •í•˜ëŠ”ë° ë„ì›€ì´ ë˜ì—ˆë‚˜ìš”?", ["ì²«ë²ˆì§¸ ë‹µë³€ì„", "ë§¤ìš° ì•„ë‹ˆë‹¤", "ì•„ë‹ˆë‹¤", "ê·¸ë ‡ë‹¤", "ë§¤ìš° ê·¸ë ‡ë‹¤"], key = "sat3")
# if st.button("í”¼ë“œë°± ë°›ê¸°", key = "3"):
#     assess, fb = generate_fb_3(response3)
#     st.write("**GPTì˜ í”¼ë“œë°±**")
#     st.write(fb)
#     response3 = process_string(response3)
#     asess = process_string(assess)
#     fb = process_string(fb)
#     st.session_state["item"].append("3")
#     st.session_state["answer"].append(response3)
#     st.session_state["assess"].append(assess)
#     st.session_state["feedback"].append(fb)
#     st.session_state["conf"].append(confidence3)
#     st.session_state["sat"].append(stat3)

# else : st.text("ë¬¸ì œë¥¼ í’€ê³  í”¼ë“œë°± ë°›ê¸°ë¥¼ ëˆŒëŸ¬ë³´ì„¸ìš”!")

# st.divider()
# st.subheader("í•™ìŠµí™œë™ê¸°ë¡")
# if st.session_state["item"] != []:
#     for i, a in enumerate(st.session_state["item"]):
#         st.write(a + "ë²ˆë¬¸ì œ")
#         st.info(code_print("ğŸ‘¨â€ğŸ“ :" + st.session_state["answer"][i]))
#         st.warning(code_print("ğŸ’¬ :" + st.session_state["feedback"][i]))
        
# st.divider()


# if st.button("ê²°ê³¼ ë‹¤ìš´ë¡œë“œë°›ê¸°"):
#     df = generate_df(st.session_state["item"], st.session_state["answer"], st.session_state["assess"], st.session_state["feedback"], st.session_state["conf"], st.session_state["sat"])
#     csv = df.to_csv(index = False, encoding="cp949")
#     st.download_button(label = "ëˆŒëŸ¬ì„œ íŒŒì¼ ë‹¤ìš´ë¡œë“œ ë°›ê¸°", data = csv, file_name = f"{name}.csv")

# st.divider()
# st.header("ê²°ê³¼ ë‹¤ìš´ë¡œë“œ ë°›ì€ í›„ êµ¬ê¸€ ì„¤ë¬¸ ë§í¬")
# st.markdown("[êµ¬ê¸€ ì„¤ë¬¸ ë§í¬](https://forms.gle/iHcKtEtt1eQi8y5f6)")
